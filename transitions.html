<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>vue-console</title>
    <link rel="stylesheet" href="animate.min.css" />
    <script src="vue.js"></script>
    <script src="velocity.min.js"></script>
    <script src="lodash.min.js"></script>
    <style>
      .fade-enter-active,
      .fade-leave-active {
        transition: opacity 0.5s;
      }

      .fade-enter,
      .fade-leave-to {
        opacity: 0;
      }

      /* 可以设置不同的进入和离开动画 */
      /* 设置持续时间和动画函数 */
      .slide-fade-enter-active {
        transition: all 0.3s ease;
      }

      .slide-fade-leave-active {
        transition: all 0.8s cubic-bezier(1, 0.5, 0.8, 1);
      }

      .slide-fade-enter,
      .slide-fade-leave-to {
        transform: translateX(10px);
        opacity: 0;
      }

      .bounce-enter-active {
        animation: bounce-in 0.5s;
      }

      .bounce-leave-active {
        animation: bounce-in 0.5s reverse;
      }

      @keyframes bounce-in {
        0% {
          transform: scale(0);
        }

        50% {
          transform: scale(1.5);
        }

        100% {
          transform: scale(1);
        }
      }

      .no-mode-fade-enter-active,
      .no-mode-fade-leave-active {
        transition: opacity 0.5s;
      }

      .no-mode-fade-enter,
      .no-mode-fade-leave-active {
        opacity: 0;
      }

      .no-mode-absolute-demo-wrapper {
        position: relative;
        height: 18px;
      }

      .no-mode-absolute-demo-wrapper button {
        position: absolute;
      }

      .no-mode-absolute-fade-enter-active,
      .no-mode-absolute-fade-leave-active {
        transition: opacity 0.5s;
      }

      .no-mode-absolute-fade-enter,
      .no-mode-absolute-fade-leave-active {
        opacity: 0;
      }

      .no-mode-translate-demo-wrapper {
        position: relative;
        height: 18px;
      }

      .no-mode-translate-demo-wrapper button {
        position: absolute;
      }

      .no-mode-translate-fade-enter-active,
      .no-mode-translate-fade-leave-active {
        transition: all 1s;
      }

      .no-mode-translate-fade-enter,
      .no-mode-translate-fade-leave-active {
        opacity: 0;
      }

      .no-mode-translate-fade-enter {
        transform: translateX(31px);
      }

      .no-mode-translate-fade-leave-active {
        transform: translateX(-31px);
      }

      .with-mode-fade-enter-active,
      .with-mode-fade-leave-active {
        transition: opacity 0.5s;
      }

      .with-mode-fade-enter,
      .with-mode-fade-leave-active {
        opacity: 0;
      }

      .in-out-translate-demo-wrapper {
        position: relative;
        height: 18px;
      }

      .in-out-translate-demo-wrapper button {
        position: absolute;
      }

      .in-out-translate-fade-enter-active,
      .in-out-translate-fade-leave-active {
        transition: all 0.5s;
      }

      .in-out-translate-fade-enter,
      .in-out-translate-fade-leave-active {
        opacity: 0;
      }

      .in-out-translate-fade-enter {
        transform: translateX(31px);
      }

      .in-out-translate-fade-leave-active {
        transform: translateX(-31px);
      }

      .component-fade-enter-active,
      .component-fade-leave-active {
        transition: opacity 0.3s ease;
      }

      .component-fade-enter,
      .component-fade-leave-to {
        opacity: 0;
      }

      .list-item {
        display: inline-block;
        margin-right: 10px;
      }

      .list-enter-active,
      .list-leave-active {
        transition: all 1s;
      }

      .list-enter,
      .list-leave-to {
        opacity: 0;
        transform: translateY(30px);
      }

      .list-complete-item {
        transition: all 1s;
        display: inline-block;
        margin-right: 10px;
      }

      .list-complete-enter,
    .list-complete-leave-to

    /* .list-complete-leave-active for below version 2.1.8 */
 {
        opacity: 0;
        transform: translateY(30px);
      }

      .list-complete-leave-active {
        position: absolute;
      }

      .flip-list-move {
        transition: transform 1s;
      }

      .sudoku-container {
        --squareNum: 10;
        display: flex;
        flex-wrap: wrap;
        width: calc((40px + 1px) * var(--squareNum) + 2px);
        /* (25 + 1) * 10 + 1(中间多1px) + 1(最后一个方块border-right 1px) */
        margin-top: 10px;
      }

      .cell {
        display: flex;
        justify-content: space-around;
        align-items: center;
        width: 40px;
        height: 40px;
        border: 1px solid #aaa;
        border-right: 0px;
        border-bottom: 0px;
      }

      /* .cell:nth-child(10n + 5) {
        border-right: 1px solid rgb(255, 131, 48);
      } */

      .cell-b-r-dye {
        border-right: 1px solid rgb(255, 131, 48);
      }

      /* .cell:nth-child(10n + 6) {
        border-left: 1px solid rgb(255, 131, 48);
      } */

      .cell-b-l-dye {
        border-left: 1px solid rgb(255, 131, 48);
      }

      /* .cell:nth-child(10n) {
        border-right: 1px solid #aaa;
      } */

      .cell-b-r {
        border-right: 1px solid #aaa;
      }

      /* .cell:nth-child(n + 41):nth-child(-n + 50) {
        border-bottom: 1px solid rgb(255, 131, 48);
      } */

      .cell-b-b-dye {
        border-bottom: 1px solid rgb(255, 131, 48);
      }

      /* .cell:nth-child(n + 51):nth-child(-n + 60) {
        border-top: 1px solid rgb(255, 131, 48);
      } */

      .cell-b-t-dye {
        border-top: 1px solid rgb(255, 131, 48);
      }

      /* .cell:nth-child(n + 91):nth-child(-n + 100) {
        border-bottom: 1px solid #aaa;
      } */

      .cell-b-b {
        border-bottom: 1px solid #aaa;
      }

      .cell-move {
        transition: transform 1s;
      }
    </style>
  </head>

  <body>
    <div id="app-1">
      <button v-on:click="show = !show">切换</button>
      <transition name="fade">
        <p v-if="show">hello</p>
      </transition>
    </div>

    <div id="app-2">
      <button @click="show = !show">切换</button>
      <transition name="slide-fade">
        <p v-if="show">hello</p>
      </transition>
    </div>

    <div id="app-3">
      <button @click="show = !show">切换</button>
      <transition name="bounce">
        <p v-if="show">原教程话太多</p>
      </transition>
    </div>

    <div id="app-4">
      <button @click="show = !show">
        切换
      </button>
      <transition
        name="custom-classes-transition"
        enter-active-class="animated tada"
        leave-active-class="animated bounceOutRight"
        :duration="{ enter:2000, leave: 5000 }"
      >
        <p v-if="show">hello</p>
      </transition>
    </div>

    <div id="app-5">
      <button @click="show = !show">
        切换
      </button>
      <transition
        v-on:before-enter="beforeEnter"
        v-on:enter="enter"
        v-on:leave="leave"
        v-bind:css="false"
      >
        <p v-if="show">Demo</p>
      </transition>
    </div>

    <div id="app-6">
      <transition-button
        v-for="trButton in trButtonList"
        v-bind:key="trButton.id"
        v-bind:class-name="trButton.className"
        v-bind:transition-name="trButton.transitionName"
        v-bind:mode="trButton.mode"
      >
      </transition-button>
    </div>

    <div id="app-7">
      <br />
      <input v-model="view" value="v-a" id="a" type="radio" /><label
        for="a"
      ></label>
      <input v-model="view" value="v-b" id="b" type="radio" /><label
        for="b"
      ></label>
      <transition name="component-fade" mode="out-in">
        <component v-bind:is="view"></component>
      </transition>
    </div>

    <div id="app-8">
      <button v-on:click="add">添加</button>
      <button v-on:click="remove">删除</button>
      <button v-on:click="shuffle('items')">打乱items</button>
      <button v-on:click="reset">重置</button>
      <div>
        <transition-group name="list-complete" tag="p">
          <span
            v-for="item in items"
            v-bind:key="item"
            class="list-complete-item"
          >
            {{ item }}
          </span>
        </transition-group>
      </div>
      <div>
        <transition-group name="flip-list" tag="ul">
          <li v-for="item in items" v-bind:key="item">
            {{ item }}
          </li>
        </transition-group>
      </div>
      <div>
        <input v-model="squareNum" />
        <button v-on:click="changeSquare">更改方块</button>
        <button v-on:click="shuffle('cells')">打乱cells</button>
        <transition-group
          name="cell"
          tag="div"
          class="sudoku-container"
          ref="square"
        >
          <div
            v-for="(cell, index) in cells"
            v-bind:key="cell.id"
            class="cell"
            v-bind:class="addClassName(index)"
            v-bind:title="cell.id"
          >
            {{ cell.number }}
          </div>
        </transition-group>
      </div>
    </div>

    <script>
      var app_1 = new Vue({
        el: '#app-1',
        data: {
          show: true
        }
      })
      var app_2 = new Vue({
        el: '#app-2',
        data: {
          show: true
        }
      })
      var app_3 = new Vue({
        el: '#app-3',
        data: {
          show: true
        }
      })
      var app_4 = new Vue({
        el: '#app-4',
        data: {
          show: true
        }
      })
      var app_5 = new Vue({
        el: '#app-5',
        data: {
          show: true
        },
        methods: {
          beforeEnter: function(el) {
            el.style.opacity = 0
            el.style.transformOrigin = 'left'
          },
          enter: function(el, done) {
            Velocity(
              el,
              {
                opacity: 1,
                fontSize: '1.4em'
              },
              {
                duration: 300
              }
            )
            Velocity(el, { fontSize: '1em' }, { complete: done })
          },
          leave: function(el, done) {
            Velocity(
              el,
              { translateX: '15px', rotateZ: '50deg' },
              { duration: 600 }
            )
            Velocity(el, { rotateZ: '100deg' }, { loop: 2 })
            Velocity(
              el,
              {
                rotateZ: '45deg',
                translateY: '30px',
                translateX: '30px',
                opacity: 0
              },
              { complete: done }
            )
          }
        }
      })
      var commData = {
        buttonOn: true
      }
      Vue.component('transition-button', {
        // data: function() {
        //   return {
        //     buttonOn: true
        //   }
        // },
        data: function() {
          return commData
        },
        props: {
          className: '',
          transitionName: '',
          mode: ''
        },
        template: `
          <div>
            <div v-bind:class="className">
              <transition v-bind:name="transitionName" v-bind:mode="mode">
                <button
                  @click="buttonOn = false"
                  key="on"
                  v-if="buttonOn"
                >
                  ON
                </button>
                <button
                  v-else
                  @click="buttonOn = true"
                  key="off"
                >
                  OFF
                </button>
              </transition>
          </div>
        </div>
      `
      })
      var app_6 = new Vue({
        el: '#app-6',
        data: {
          trButtonList: [
            {
              id: 1,
              className: 'no-mode-demo-wrapper',
              transitionName: 'no-mode-fade',
              mode: ''
            },
            {
              id: 2,
              className: 'no-mode-absolute-demo-wrapper',
              transitionName: 'no-mode-absolute-fade',
              mode: ''
            },
            {
              id: 3,
              className: 'no-mode-translate-demo-wrapper',
              transitionName: 'no-mode-translate-fade',
              mode: ''
            },
            {
              id: 4,
              className: 'with-mode-demo-wrapper',
              transitionName: 'with-mode-fade',
              mode: 'out-in'
            },
            {
              id: 5,
              className: 'in-out-translate-demo-wrapper',
              transitionName: 'in-out-translate-fade',
              mode: 'in-out'
            }
          ]
        }
      })
      var app_7 = new Vue({
        el: '#app-7',
        data: {
          view: 'v-a'
        },
        components: {
          'v-a': {
            template: `<div>Component A</div>`
          },
          'v-b': {
            template: `<div>Component B</div>`
          }
        }
      })
      var app_8 = new Vue({
        el: '#app-8',
        data: {
          items: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
          nextNum: 10,
          cells: Array.apply(null, {
            length: 100
          }).map(function(_, index) {
            return {
              id: index,
              number: index % 10
            }
          }),
          squareNum: 10,
          cellClassNameIndex: {
            'cell-b-r-dye': {
              arr: [],
              func: function(squareNum) {
                var indexList = []
                for (var i = 0; i < squareNum; i++) {
                  indexList.push(i * squareNum + squareNum / 2)
                }
                return indexList
              }
            },
            'cell-b-l-dye': {
              arr: [],
              func: function(squareNum) {
                var indexList = []
                for (var i = 0; i < squareNum; i++) {
                  indexList.push(i * squareNum + squareNum / 2 + 1)
                }
                return indexList
              }
            },
            'cell-b-r': {
              arr: [],
              func: function(squareNum) {
                var indexList = []
                for (var i = 1; i <= squareNum; i++) {
                  indexList.push(i * squareNum)
                }
                return indexList
              }
            },
            'cell-b-b-dye': {
              arr: [],
              func: function(squareNum) {
                var indexList = []
                var stopIndex = (squareNum * squareNum) / 2 - squareNum + 1
                for (var i = (squareNum * squareNum) / 2; i >= stopIndex; i--) {
                  indexList.push(i)
                }
                return indexList
              }
            },
            'cell-b-t-dye': {
              arr: [],
              func: function(squareNum) {
                var indexList = []
                var stopIndex = (squareNum * squareNum) / 2 + squareNum
                for (
                  var i = (squareNum * squareNum) / 2 + 1;
                  i <= stopIndex;
                  i++
                ) {
                  indexList.push(i)
                }
                return indexList
              }
            },
            'cell-b-b': {
              arr: [],
              func: function(squareNum) {
                var indexList = []
                var stopIndex = squareNum * squareNum - squareNum + 1
                for (var i = squareNum * squareNum; i >= stopIndex; i--) {
                  indexList.push(i)
                }
                return indexList
              }
            },
            allIndex: []
          }
        },
        mounted: function() {
          this.changeSquare()
        },
        methods: {
          randNum: function(m, n) {
            return Math.floor(Math.random() * (n - m + 1) + m)
          },
          add: function() {
            this.items.splice(
              this.randNum(0, this.items.length),
              0,
              this.nextNum++
            )
          },
          remove: function() {
            this.items.splice(this.randNum(0, this.items.length), 1)
          },
          reset: function() {
            ;(this.items = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]), (this.nextNum = 10)
          },
          shuffle: function(arrName) {
            // var vm = this
            for (
              var j, x, i = this[arrName].length;
              i;
              j = parseInt(Math.random() * i),
                x = this[arrName][--i],
                // this[arrName][i] = this[arrName][j],
                this[arrName].splice(i, 1, this[arrName][j]),
                // vm.$set(vm[arrName], i, this[arrName][j]),
                // this[arrName][j] = x
                this[arrName].splice(j, 1, x)
              // vm.$set(vm[arrName], j, x)
            );
            // this[arrName] = _.shuffle(this[arrName])
          },
          changeSquare: function() {
            var squareNum = Number(this.squareNum)
            this.cellClassNameIndex.allIndex = []
            for (var key in this.cellClassNameIndex) {
              if (key != 'allIndex') {
                this.cellClassNameIndex[key].arr = this.cellClassNameIndex[
                  key
                ].func(squareNum)
                this.cellClassNameIndex.allIndex = this.cellClassNameIndex.allIndex.concat(
                  this.cellClassNameIndex[key].arr
                )
              }
            }
            this.$refs.square.$el.style.setProperty('--squareNum', squareNum)
            this.cells = Array.apply(null, {
              length: squareNum * squareNum
            }).map(function(_, index) {
              return {
                id: index,
                number: index % squareNum
              }
            })
          },
          addClassName: function(index) {
            var currentId = index + 1
            if (this.cellClassNameIndex.allIndex.indexOf(currentId) == -1) {
              return
            }
            var classNameList = []
            for (var key in this.cellClassNameIndex) {
              if (
                key != 'allIndex' &&
                this.cellClassNameIndex[key].arr.indexOf(currentId) != -1
              ) {
                classNameList.push(key)
              }
            }
            return classNameList
          }
        }
      })
    </script>
  </body>
</html>
