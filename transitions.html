<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>vue-console</title>
    <link rel="stylesheet" href="animate.min.css" />
    <script src="vue.js"></script>
    <script src="velocity.min.js"></script>
    <script src="lodash.min.js"></script>
    <script src="TweenMax.min.js"></script>
    <script src="tween.js"></script>
    <script src="color.js"></script>
    <style>
      .fade-enter-active,
      .fade-leave-active {
        transition: opacity 0.5s;
      }

      .fade-enter,
      .fade-leave-to {
        opacity: 0;
      }

      /* 可以设置不同的进入和离开动画 */
      /* 设置持续时间和动画函数 */
      .slide-fade-enter-active {
        transition: all 0.3s ease;
      }

      .slide-fade-leave-active {
        transition: all 0.8s cubic-bezier(1, 0.5, 0.8, 1);
      }

      .slide-fade-enter,
      .slide-fade-leave-to {
        transform: translateX(10px);
        opacity: 0;
      }

      .bounce-enter-active {
        animation: bounce-in 0.5s;
      }

      .bounce-leave-active {
        animation: bounce-in 0.5s reverse;
      }

      @keyframes bounce-in {
        0% {
          transform: scale(0);
        }

        50% {
          transform: scale(1.5);
        }

        100% {
          transform: scale(1);
        }
      }

      .no-mode-fade-enter-active,
      .no-mode-fade-leave-active {
        transition: opacity 0.5s;
      }

      .no-mode-fade-enter,
      .no-mode-fade-leave-active {
        opacity: 0;
      }

      .no-mode-absolute-demo-wrapper {
        position: relative;
        height: 18px;
      }

      .no-mode-absolute-demo-wrapper button {
        position: absolute;
      }

      .no-mode-absolute-fade-enter-active,
      .no-mode-absolute-fade-leave-active {
        transition: opacity 0.5s;
      }

      .no-mode-absolute-fade-enter,
      .no-mode-absolute-fade-leave-active {
        opacity: 0;
      }

      .no-mode-translate-demo-wrapper {
        position: relative;
        height: 18px;
      }

      .no-mode-translate-demo-wrapper button {
        position: absolute;
      }

      .no-mode-translate-fade-enter-active,
      .no-mode-translate-fade-leave-active {
        transition: all 1s;
      }

      .no-mode-translate-fade-enter,
      .no-mode-translate-fade-leave-active {
        opacity: 0;
      }

      .no-mode-translate-fade-enter {
        transform: translateX(31px);
      }

      .no-mode-translate-fade-leave-active {
        transform: translateX(-31px);
      }

      .with-mode-fade-enter-active,
      .with-mode-fade-leave-active {
        transition: opacity 0.5s;
      }

      .with-mode-fade-enter,
      .with-mode-fade-leave-active {
        opacity: 0;
      }

      .in-out-translate-demo-wrapper {
        position: relative;
        height: 18px;
      }

      .in-out-translate-demo-wrapper button {
        position: absolute;
      }

      .in-out-translate-fade-enter-active,
      .in-out-translate-fade-leave-active {
        transition: all 0.5s;
      }

      .in-out-translate-fade-enter,
      .in-out-translate-fade-leave-active {
        opacity: 0;
      }

      .in-out-translate-fade-enter {
        transform: translateX(31px);
      }

      .in-out-translate-fade-leave-active {
        transform: translateX(-31px);
      }

      .component-fade-enter-active,
      .component-fade-leave-active {
        transition: opacity 0.3s ease;
      }

      .component-fade-enter,
      .component-fade-leave-to {
        opacity: 0;
      }

      .list-item {
        display: inline-block;
        margin-right: 10px;
      }

      .list-enter-active,
      .list-leave-active {
        transition: all 1s;
      }

      .list-enter,
      .list-leave-to {
        opacity: 0;
        transform: translateY(30px);
      }

      .list-complete-item {
        transition: all 1s;
        display: inline-block;
        margin-right: 10px;
      }

      .list-complete-enter,
    .list-complete-leave-to

    /* .list-complete-leave-active for below version 2.1.8 */
 {
        opacity: 0;
        transform: translateY(30px);
      }

      .list-complete-leave-active {
        position: absolute;
      }

      .flip-list-move {
        transition: transform 1s;
      }

      .sudoku-container {
        --squareNum: 10;
        display: flex;
        flex-wrap: wrap;
        width: calc((40px + 1px) * var(--squareNum) + 2px);
        /* (25 + 1) * 10 + 1(中间多1px) + 1(最后一个方块border-right 1px) */
        margin-top: 10px;
      }

      .cell {
        display: flex;
        justify-content: space-around;
        align-items: center;
        width: 40px;
        height: 40px;
        border: 1px solid #aaa;
        border-right: 0px;
        border-bottom: 0px;
      }

      /* .cell:nth-child(10n + 5) {
        border-right: 1px solid rgb(255, 131, 48);
      } */

      .cell-b-r-dye {
        border-right: 1px solid rgb(255, 131, 48);
      }

      /* .cell:nth-child(10n + 6) {
        border-left: 1px solid rgb(255, 131, 48);
      } */

      .cell-b-l-dye {
        border-left: 1px solid rgb(255, 131, 48);
      }

      /* .cell:nth-child(10n) {
        border-right: 1px solid #aaa;
      } */

      .cell-b-r {
        border-right: 1px solid #aaa;
      }

      /* .cell:nth-child(n + 41):nth-child(-n + 50) {
        border-bottom: 1px solid rgb(255, 131, 48);
      } */

      .cell-b-b-dye {
        border-bottom: 1px solid rgb(255, 131, 48);
      }

      /* .cell:nth-child(n + 51):nth-child(-n + 60) {
        border-top: 1px solid rgb(255, 131, 48);
      } */

      .cell-b-t-dye {
        border-top: 1px solid rgb(255, 131, 48);
      }

      /* .cell:nth-child(n + 91):nth-child(-n + 100) {
        border-bottom: 1px solid #aaa;
      } */

      .cell-b-b {
        border-bottom: 1px solid #aaa;
      }

      .cell-move {
        transition: transform 1s;
        border: 1px solid #aaa;
      }

      svg {
        display: block;
      }
      polygon {
        fill: #41b883;
      }
      circle {
        fill: transparent;
        stroke: #35495e;
        stroke-width: 1;
      }
      .input-range {
        display: block;
        width: 100%;
        margin-bottom: 15px;
      }
    </style>
  </head>

  <body>
    <div id="app-1">
      <button v-on:click="show = !show">切换</button>
      <transition name="fade">
        <p v-if="show">hello</p>
      </transition>
    </div>

    <div id="app-2">
      <button @click="show = !show">切换</button>
      <transition name="slide-fade">
        <p v-if="show">hello</p>
      </transition>
    </div>

    <div id="app-3">
      <button @click="show = !show">切换</button>
      <transition name="bounce">
        <p v-if="show">原教程话太多</p>
      </transition>
    </div>

    <div id="app-4">
      <button @click="show = !show">
        切换
      </button>
      <transition
        name="custom-classes-transition"
        enter-active-class="animated tada"
        leave-active-class="animated bounceOutRight"
        :duration="{ enter:2000, leave: 5000 }"
      >
        <p v-if="show">hello</p>
      </transition>
    </div>

    <div id="app-5">
      <button @click="show = !show">
        切换
      </button>
      <transition
        v-on:before-enter="beforeEnter"
        v-on:enter="enter"
        v-on:leave="leave"
        v-bind:css="false"
      >
        <p v-if="show">Demo</p>
      </transition>
    </div>

    <div id="app-6">
      <transition-button
        v-for="trButton in trButtonList"
        v-bind:key="trButton.id"
        v-bind:class-name="trButton.className"
        v-bind:transition-name="trButton.transitionName"
        v-bind:mode="trButton.mode"
      >
      </transition-button>
    </div>

    <div id="app-7">
      <br />
      <input v-model="view" value="v-a" id="a" type="radio" /><label
        for="a"
      ></label>
      <input v-model="view" value="v-b" id="b" type="radio" /><label
        for="b"
      ></label>
      <transition name="component-fade" mode="out-in">
        <component v-bind:is="view"></component>
      </transition>
    </div>

    <div id="app-8">
      <button v-on:click="add">添加</button>
      <button v-on:click="remove">删除</button>
      <button v-on:click="shuffle('items')">打乱items</button>
      <button v-on:click="reset">重置</button>
      <div>
        <transition-group name="list-complete" tag="p">
          <span
            v-for="item in items"
            v-bind:key="item"
            class="list-complete-item"
          >
            {{ item }}
          </span>
        </transition-group>
      </div>
      <div>
        <transition-group name="flip-list" tag="ul">
          <li v-for="item in items" v-bind:key="item">
            {{ item }}
          </li>
        </transition-group>
      </div>
      <div>
        <input v-model="squareNum" />
        <button v-on:click="changeSquare">更改方块</button>
        <button v-on:click="shuffle('cells')">打乱cells</button>
        <transition-group
          name="cell"
          tag="div"
          class="sudoku-container"
          ref="square"
        >
          <div
            v-for="(cell, index) in cells"
            v-bind:key="cell.id"
            class="cell"
            v-bind:class="addClassName(index)"
            v-bind:title="cell.id"
          >
            {{ cell.number }}
          </div>
        </transition-group>
      </div>
      <br />
      <div>
        <input v-model="query" />
        <transition-group
          name="staggered-fade"
          tag="ul"
          v-bind:css="false"
          v-on:before-enter="beforeEnter"
          v-on:enter="enter"
          v-on:leave="leave"
        >
          <li
            v-for="(man, index) in manComputedList"
            v-bind:key="man.key"
            v-bind:data-index="index"
          >
            {{ man.msg }}
          </li>
        </transition-group>
      </div>
    </div>

    <div id="dynamic-fade-demo">
      Fade in:
      <input
        type="range"
        v-model="fadeInDuration"
        v-bind:min="minFadeDuration"
        v-bind:max="maxFadeDuration"
      />
      {{ fadeInDuration }} Fade out:
      <input
        type="range"
        v-model="fadeOutDuration"
        v-bind:min="minFadeDuration"
        v-bind:max="maxFadeDuration"
      />
      {{ fadeOutDuration }}

      <transition
        v-bind:css="false"
        v-on:before-enter="beforeEnter"
        v-on:enter="enter"
        v-on:leave="leave"
      >
        <p v-show="show">hello</p>
      </transition>
      <button v-on:click="stop = !stop">
        {{ buttonName }}
      </button>
    </div>

    <div id="trans-state">
      <h3>状态过渡</h3>
      <input v-model.number="number" type="number" step="20" />
      <p>{{ animatedNumber }}</p>
      <br />
      <input
        v-model="colorQuery"
        v-on:keyup.enter="updateColor"
        placeholder="输入颜色值,默认#000000"
      />
      <button v-on:click="updateColor">更新</button>
      <p>预览</p>
      <span
        style="display: inline-block; width: 50px; height: 50px;"
        v-bind:style="{ backgroundColor: tweenedCSSColor }"
      ></span>
      <p>{{ tweenedCSSColor }}</p>
      <br />
      <svg v-bind:width="squareWidth" v-bind:height="squareWidth">
        <polygon v-bind:points="points"></polygon>
        <circle
          v-bind:cx="squareWidth / 2"
          v-bind:cy="squareWidth / 2"
          v-bind:r="squareWidth / 2"
        ></circle>
        <circle
          v-bind:cx="squareWidth / 2"
          v-bind:cy="squareWidth / 2"
          v-bind:r="minRadius / 100 * squareWidth / 2"
          style="stroke-width:0.5"
        ></circle>
        <line
          v-for="point in circlePoints"
          v-bind:x1="squareWidth / 2"
          v-bind:y1="squareWidth / 2"
          v-bind:x2="point.x"
          v-bind:y2="point.y"
          style="stroke:rgb(99,99,99);stroke-width:0.5"
        />
        <line
          x1="0"
          v-bind:y1="squareWidth / 2"
          v-bind:x2="squareWidth"
          v-bind:y2="squareWidth / 2"
          style="stroke:rgb(255, 131, 48);stroke-width:1"
        />
        <line
          v-bind:x1="squareWidth / 2"
          y1="0"
          v-bind:x2="squareWidth / 2"
          v-bind:y2="squareWidth"
          style="stroke:rgb(255, 131, 48);stroke-width:1"
        />
      </svg>
      <label>大小: {{ squareWidth }}</label>
      <input
        class="input-range"
        type="range"
        min="100"
        max="1000"
        v-model.number="squareWidth"
      />
      <label>边数: {{ sides }}</label>
      <input
        class="input-range"
        type="range"
        min="3"
        max="360"
        v-model.number="sides"
      />
      <label>最小半径: {{ minRadius }}%</label>
      <input
        class="input-range"
        type="range"
        min="0"
        max="95"
        v-model.number="minRadius"
      />
      <label>更新间隔: {{ updateInterval }} 毫秒</label>
      <input
        class="input-range"
        type="range"
        min="0"
        max="10000"
        v-model.number="updateInterval"
      />
    </div>

    <script>
      var app_1 = new Vue({
        el: '#app-1',
        data: {
          show: true
        }
      })
      var app_2 = new Vue({
        el: '#app-2',
        data: {
          show: true
        }
      })
      var app_3 = new Vue({
        el: '#app-3',
        data: {
          show: true
        }
      })
      var app_4 = new Vue({
        el: '#app-4',
        data: {
          show: true
        }
      })
      var app_5 = new Vue({
        el: '#app-5',
        data: {
          show: true
        },
        methods: {
          beforeEnter: function(el) {
            el.style.opacity = 0
            el.style.transformOrigin = 'left'
          },
          enter: function(el, done) {
            Velocity(
              el,
              {
                opacity: 1,
                fontSize: '1.4em'
              },
              {
                duration: 300
              }
            )
            Velocity(el, { fontSize: '1em' }, { complete: done })
          },
          leave: function(el, done) {
            Velocity(
              el,
              { translateX: '15px', rotateZ: '50deg' },
              { duration: 600 }
            )
            Velocity(el, { rotateZ: '100deg' }, { loop: 2 })
            Velocity(
              el,
              {
                rotateZ: '45deg',
                translateY: '30px',
                translateX: '30px',
                opacity: 0
              },
              { complete: done }
            )
          }
        }
      })
      var commData = {
        buttonOn: true
      }
      Vue.component('transition-button', {
        // data: function() {
        //   return {
        //     buttonOn: true
        //   }
        // },
        data: function() {
          return commData
        },
        props: {
          className: '',
          transitionName: '',
          mode: ''
        },
        template: `
          <div>
            <div v-bind:class="className">
              <transition v-bind:name="transitionName" v-bind:mode="mode">
                <button
                  @click="buttonOn = false"
                  key="on"
                  v-if="buttonOn"
                >
                  ON
                </button>
                <button
                  v-else
                  @click="buttonOn = true"
                  key="off"
                >
                  OFF
                </button>
              </transition>
          </div>
        </div>
      `
      })
      var app_6 = new Vue({
        el: '#app-6',
        data: {
          trButtonList: [
            {
              id: 1,
              className: 'no-mode-demo-wrapper',
              transitionName: 'no-mode-fade',
              mode: ''
            },
            {
              id: 2,
              className: 'no-mode-absolute-demo-wrapper',
              transitionName: 'no-mode-absolute-fade',
              mode: ''
            },
            {
              id: 3,
              className: 'no-mode-translate-demo-wrapper',
              transitionName: 'no-mode-translate-fade',
              mode: ''
            },
            {
              id: 4,
              className: 'with-mode-demo-wrapper',
              transitionName: 'with-mode-fade',
              mode: 'out-in'
            },
            {
              id: 5,
              className: 'in-out-translate-demo-wrapper',
              transitionName: 'in-out-translate-fade',
              mode: 'in-out'
            }
          ]
        }
      })
      var app_7 = new Vue({
        el: '#app-7',
        data: {
          view: 'v-a'
        },
        components: {
          'v-a': {
            template: `<div>Component A</div>`
          },
          'v-b': {
            template: `<div>Component B</div>`
          }
        }
      })
      var app_8 = new Vue({
        el: '#app-8',
        data: {
          items: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
          nextNum: 10,
          cells: [],
          squareNum: 10,
          cellClassNameIndex: {
            'cell-b-r-dye': {
              arr: [],
              func: function(squareNum) {
                var indexList = []
                for (var i = 0; i < squareNum; i++) {
                  indexList.push(i * squareNum + squareNum / 2)
                }
                return indexList
              }
            },
            'cell-b-l-dye': {
              arr: [],
              func: function(squareNum) {
                var indexList = []
                for (var i = 0; i < squareNum; i++) {
                  indexList.push(i * squareNum + squareNum / 2 + 1)
                }
                return indexList
              }
            },
            'cell-b-r': {
              arr: [],
              func: function(squareNum) {
                var indexList = []
                for (var i = 1; i <= squareNum; i++) {
                  indexList.push(i * squareNum)
                }
                return indexList
              }
            },
            'cell-b-b-dye': {
              arr: [],
              func: function(squareNum) {
                var indexList = []
                var stopIndex = (squareNum * squareNum) / 2 - squareNum + 1
                for (var i = (squareNum * squareNum) / 2; i >= stopIndex; i--) {
                  indexList.push(i)
                }
                return indexList
              }
            },
            'cell-b-t-dye': {
              arr: [],
              func: function(squareNum) {
                var indexList = []
                var stopIndex = (squareNum * squareNum) / 2 + squareNum
                for (
                  var i = (squareNum * squareNum) / 2 + 1;
                  i <= stopIndex;
                  i++
                ) {
                  indexList.push(i)
                }
                return indexList
              }
            },
            'cell-b-b': {
              arr: [],
              func: function(squareNum) {
                var indexList = []
                var stopIndex = squareNum * squareNum - squareNum + 1
                for (var i = squareNum * squareNum; i >= stopIndex; i--) {
                  indexList.push(i)
                }
                return indexList
              }
            },
            allIndex: []
          },
          query: '',
          men: [
            { msg: 'Bruce Lee', key: 1 },
            { msg: 'Jackie Chan', key: 2 },
            { msg: 'Chuck Norris', key: 3 },
            { msg: 'Jet Li', key: 4 },
            { msg: 'Kung Fury', key: 5 }
          ]
        },
        mounted: function() {
          this.changeSquare()
        },
        computed: {
          manComputedList: function() {
            var vm = this
            return this.men.filter(function(item) {
              return (
                item.msg.toLowerCase().indexOf(vm.query.toLowerCase()) !== -1
              )
            })
          }
        },
        methods: {
          beforeEnter: function(el) {
            el.style.opacity = 0
            el.style.height = 0
          },
          enter: function(el, done) {
            var delay = el.dataset.index * 150
            setTimeout(function() {
              Velocity(el, { opacity: 1, height: '1.6em' }, { complete: done })
            }, delay)
          },
          leave: function(el, done) {
            var delay = el.dataset.index * 150
            setTimeout(function() {
              Velocity(el, { opacity: 0, height: 0 }, { complete: done })
            }, delay)
          },
          randNum: function(m, n) {
            return Math.floor(Math.random() * (n - m + 1) + m)
          },
          add: function() {
            this.items.splice(
              this.randNum(0, this.items.length),
              0,
              this.nextNum++
            )
          },
          remove: function() {
            this.items.splice(this.randNum(0, this.items.length), 1)
          },
          reset: function() {
            ;(this.items = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]), (this.nextNum = 10)
          },
          shuffle: function(arrName) {
            // var vm = this
            for (
              var j, x, i = this[arrName].length;
              i;
              j = parseInt(Math.random() * i),
                x = this[arrName][--i],
                // this[arrName][i] = this[arrName][j],
                this[arrName].splice(i, 1, this[arrName][j]),
                // vm.$set(vm[arrName], i, this[arrName][j]),
                // this[arrName][j] = x
                this[arrName].splice(j, 1, x)
              // vm.$set(vm[arrName], j, x)
            );
            // this[arrName] = _.shuffle(this[arrName])
          },
          changeSquare: function() {
            var squareNum = Number(this.squareNum)
            this.cellClassNameIndex.allIndex = []
            for (var key in this.cellClassNameIndex) {
              if (key != 'allIndex') {
                this.cellClassNameIndex[key].arr = this.cellClassNameIndex[
                  key
                ].func(squareNum)
                this.cellClassNameIndex.allIndex = this.cellClassNameIndex.allIndex.concat(
                  this.cellClassNameIndex[key].arr
                )
              }
            }
            this.$refs.square.$el.style.setProperty('--squareNum', squareNum)
            this.cells = Array.apply(null, {
              length: squareNum * squareNum
            }).map(function(_, index) {
              return {
                id: index,
                number: index % squareNum
              }
            })
          },
          addClassName: function(index) {
            var currentId = index + 1
            if (this.cellClassNameIndex.allIndex.indexOf(currentId) == -1) {
              return
            }
            var classNameList = []
            for (var key in this.cellClassNameIndex) {
              if (
                key != 'allIndex' &&
                this.cellClassNameIndex[key].arr.indexOf(currentId) != -1
              ) {
                classNameList.push(key)
              }
            }
            return classNameList
          }
        }
      })
      var app_dynamic = new Vue({
        el: '#dynamic-fade-demo',
        data: {
          show: true,
          fadeInDuration: 1000,
          fadeOutDuration: 1000,
          maxFadeDuration: 1500,
          minFadeDuration: 0,
          stop: false
        },
        mounted: function() {},
        methods: {
          beforeEnter: function(el) {
            el.style.opacity = 0
          },
          enter: function(el, done) {
            var vm = this
            Velocity(
              el,
              { opacity: 1 },
              {
                duration: this.fadeInDuration,
                complete: function() {
                  done()
                  if (!vm.stop) vm.show = false
                }
              }
            )
          },
          leave: function(el, done) {
            var vm = this
            Velocity(
              el,
              { opacity: 0 },
              {
                duration: this.fadeOutDuration,
                complete: function() {
                  done()
                  if (!vm.stop) vm.show = true
                }
              }
            )
          }
        },
        computed: {
          buttonName: function() {
            if (this.stop) {
              this.show = true
              return '开始'
            } else {
              this.show = false
              return '停止'
            }
          }
        }
      })
      var Color = net.brehaut.Color
      // function valueToPoint(value, index, total) {
      //   var y = value * 0.9
      //   var angle = ((Math.PI * 2) / total) * index
      //   var cos = Math.cos(angle)
      //   var sin = Math.sin(angle)
      //   var tx = y * sin + 100
      //   var ty = y * (-cos) + 100
      //   return {
      //     x: tx,
      //     y: ty
      //   }
      // }
      function valueToPoint(value, index, total, squareWidth) {
        // 已知平面直角坐标系点A(x1, y1), A不为原点, 求该点围绕原点旋转α后的点(x2, y2)?
        // PS: 不用反三角函数?
        var r = squareWidth / 2
        var angle = ((Math.PI * 2) / total) * index - Math.PI / 2
        return {
          x: value * Math.cos(angle) + r,
          y: value * Math.sin(angle) + r
        }
      }
      function generatePoints(stats, squareWidth) {
        var total = stats.length
        return stats
          .map(function(stat, index) {
            var point = valueToPoint(stat, index, total, squareWidth)
            return point.x + ',' + point.y
          })
          .join(' ')
      }
      var trans_state_app = new Vue({
        el: '#trans-state',
        data: {
          number: 20,
          tweenedNumber: 20,
          colorQuery: '',
          color: {
            red: 0,
            green: 0,
            blue: 0,
            alpha: 1
          },
          tweenedColor: {},
          defaultSides: 3,
          stats: [],
          points: '',
          sides: 3,
          minRadius: 50,
          interval: null,
          updateInterval: 1000,
          squareWidth: 200
        },
        created: function() {
          this.tweenedColor = Object.assign({}, this.color)
          var vm = this
          this.stats = Array.apply(null, { length: this.defaultSides }).map(
            function() {
              return vm.squareWidth / 2
            }
          )
          this.points = generatePoints(this.stats, this.squareWidth)
        },
        mounted: function() {
          this.resetInterval()
        },
        computed: {
          animatedNumber: function() {
            return this.tweenedNumber.toFixed(0)
          },
          tweenedCSSColor: function() {
            return new Color({
              red: this.tweenedColor.red,
              green: this.tweenedColor.green,
              blue: this.tweenedColor.blue,
              alpha: this.tweenedColor.alpha
            }).toCSS()
          },
          circlePoints: function() {
            points = []
            for (var i = 0; i < this.sides; i++) {
              points.push(
                valueToPoint(
                  this.squareWidth / 2,
                  i,
                  this.sides,
                  this.squareWidth
                )
              )
            }
            return points
          }
        },
        methods: {
          updateColor: function() {
            if (this.colorQuery == '') {
              this.color = new Color('#000000').toRGB()
            } else {
              this.color = new Color(this.colorQuery).toRGB()
              this.colorQuery = ''
            }
          },
          newRandomValue: function() {
            return Math.ceil(
              (((this.minRadius + Math.random() * (100 - this.minRadius)) /
                100) *
                this.squareWidth) /
                2
            )
          },
          randomizeStats: function() {
            var vm = this
            this.stats = this.stats.map(function() {
              return vm.newRandomValue()
            })
          },
          resetInterval: function() {
            var vm = this
            clearInterval(this.interval)
            this.randomizeStats()
            this.interval = setInterval(function() {
              vm.randomizeStats()
            }, this.updateInterval)
          }
        },
        watch: {
          number: function(newValue) {
            TweenLite.to(this.$data, 0.5, { tweenedNumber: newValue })
          },
          color: function() {
            function animate() {
              if (TWEEN.update()) {
                requestAnimationFrame(animate)
              }
            }
            new TWEEN.Tween(this.tweenedColor).to(this.color, 10000).start()
            animate()
          },
          sides: function(newSides, oldSides) {
            var sidesDifference = newSides - oldSides
            if (sidesDifference > 0) {
              for (var i = 1; i <= sidesDifference; i++) {
                this.stats.push(this.newRandomValue())
              }
            } else {
              var absoluteSidesDifference = Math.abs(sidesDifference)
              for (var i = 1; i <= absoluteSidesDifference; i++) {
                this.stats.shift()
              }
            }
          },
          stats: function(newStats) {
            TweenLite.to(this.$data, this.updateInterval / 1000, {
              points: generatePoints(newStats, this.squareWidth)
            })
          },
          updateInterval: function() {
            this.resetInterval()
          },
          squareWidth: function(newSquareWidth, oldSquareWidth) {
            var rate = newSquareWidth / oldSquareWidth
            for (var i = 0; i < this.stats.length; i++) {
              this.stats.splice(i, 1, this.stats[i] * rate)
              // this.stats[i] *= rate
            }
          }
        }
      })
    </script>
  </body>
</html>
